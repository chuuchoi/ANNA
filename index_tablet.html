<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주식회사 애나</title>
    <link rel="icon" href="resources/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="global.css"/>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard-dynamic-subset.css" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.6/lottie.min.js"></script>
    <script charset="UTF-8" class="daum_roughmap_loader_script" src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>

    <style>
      /* html, body{
        width: 100%;
        height: 100%;
        overflow: hidden;
      } */
      html, body {
            scroll-snap-type: y mandatory;
          }
      .header{
        padding: 0 80px 0 140px;
        width: 100%;
        height: 60px;
        &>img{
          left: 20px;
        }
      }
      .footer{
        scroll-snap-align: end;
        position: absolute;
        bottom: -352px;
        height: 352px;
        font-size: 14px;
        transition: transform 0.4s ease-in-out;
        & .upbtn{
         width: 32px;
         height: 32px;
       }
      }
      /* .footer.show{
        transform: translateY(-352px);
      } */
      .ct{
        display: none;
        position: relative;
        width: 100%;
        height: 100vh;
        min-height: 690px;
      }
      .ct.c2,
      .ct.c3,
      .ct.c4{
        padding-top: 55px;
      }
      .ct.c3,
      .ct.c4{
        min-height: min-content;
      }
      /* .ct.c3{
        min-height: 430px;
      }
      .ct.c4{
        min-height: 470px;
      } */
      .ct.c3 .mcnt,
      .ct.c4 .mcnt{
        height: auto;
      }
      .ct.c5{
        height: auto;
        flex-direction: column; justify-content: start;
      }
      .ct.show{
        display: flex; align-items: center; justify-content: center;
      }
      .vct{
        position: fixed;
        width: 100%;
        height: 100%;
        & video{
          position: absolute;
          top: 0px;
          left: 0px;
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
      }
      .vdim{
        z-index: 2;
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
      }

      .mcnt{
          width: 100%;
          top: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 24px;
          font-size: 19px;
          font-weight: 500;
          color: #f0f0f0;
          height: 100%;
          z-index: 4;
          user-select: none;
      }
      .mcnt .titlenum{
        color: var(--point-color); display: inline-block; width: fit-content; position: relative; top: -7px; font-weight: 700; margin-right: 8px;
      }
      .mcnt .title{
        color: white; font-weight: 700; display: inline-block; width: fit-content;  font-size: 26px; margin-right: 107px;
      }
      .mcnt .subtt{
        color: var(--gray-10); font-size: 19px; line-height: 140%;
        word-break: keep-all;
      }
      .mcnt .conttitle{
        color: white; font-weight: 700; font-size: 19px; word-break: keep-all; margin-bottom: 8px;
      }
      .mcnt .content{
        color: var(--gray-10); font-size: 15px; line-height: 133%;
      }
        .btn-p0{
          position: relative;
          cursor: pointer;
          color: #f0f0f0;
          padding: 12px 21px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          width: 320px;
          height: 64px;
          background-color: transparent;
          border: 1px solid white;
          border-radius: 100px;
          font-weight: 700;
          font-size: 19px;
          overflow: hidden;
          transition: all 0.4s ease;
          &::before{
            content: '';
            background-color: white;
            position: absolute;
            border-radius: 100px;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            transform: translateX(-105%);
            transition: all 0.4s ease;
          }
        }
        .btn-p0 svg path{
          transition: all 0.4s ease;
        }
        .btn-p0:hover{
          color: black;
          &::before{
            transform: translateX(0);
          }
        }
        .btn-p0:hover svg path{
          stroke: black;
        }
        .animText{
          overflow: hidden;
          height: fit-content;
        }
        .animText span{
          transform: translateY(110%);
          display: block;
          animation: slide-up 0.4s cubic-bezier(0.18, 0.06, 0.2, 1) forwards;
        }
        .animText img{
          transform: translateY(110%);
          animation: slide-up 0.4s cubic-bezier(0.18, 0.06, 0.2, 1) forwards;
        }

        
        .swiper {
          width: 100%;
          max-width: 2000px;
        }
        .swiper-slide{
          display: flex;
          justify-content: center;
        }

        .swiper-pagination-bullets.swiper-pagination-horizontal{
            position: relative;
            bottom: 0;
            top: 0;
            left: 0;
            width: auto;
            height: fit-content;
            /* & span:first-child{
              display: none !important;
            }
            & span:last-child{
              display: none !important;
            } */
        }
        .swiper-pagination-bullet {
            width: 25px;
            height: 2px;
            border-radius: 0px;
            background: white;
            opacity: 0.3;
        }
        .swiper-pagination-bullet-active {
            opacity: 1;
            background: white;
        }
        .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet {
            /* margin: 0 var(--swiper-pagination-bullet-horizontal-gap, 4px); */
            margin: 0 3px;
        }
        .slideimg{
          display: block;
          width: 100%;
          max-width: 396px;
          position: relative;
          border-radius: 15px;
          +div{
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            width: 100%;
            height: 100%;

            >div{
              top: 0;
              left: 0;
              width: 100%;
              max-width: 396px;
              border-radius: 15px;
              height: 100%;
              background: linear-gradient(0deg, #000000 0%, rgba(0, 0, 0, 0) 35.5%);
              display: flex;
              align-items: flex-end;
              padding: 6px 12px;
              color: white;
              font-size: 15px;
              margin: auto;
              /* @media screen and (max-width :768px){
                padding: 8px 6px;
                font-size: 14px;
              } */
            }
          }
        }
        .swiperdeco{
          pointer-events: none;
          position: absolute;
          width: 44px;
          height: 100%;
          top: 0;
          left: 0;
          background: linear-gradient(90deg, rgba(11, 13, 22, 0) 0%, #0B0D16 99.99%);
          z-index: 1;
          transform: rotate(-180deg);
        }
        .swiperdeco.right{
          left: auto;
          right: 0;
          background: linear-gradient(-90deg, rgba(11, 13, 22, 0) 0%, #0B0D16 99.99%);
        }


        .morebtn{
          cursor: pointer; position: relative; text-decoration: none;
          width: 120px;
          margin-top: 40px;
          & span{
            color: var(--gray-10);
            font-size: 15px;
          }
          & svg{
            position: absolute; left: 0; bottom: 0;
          }
        }
        .morebtn svg path{
          stroke-dasharray: 150px;
          stroke-dashoffset: 0px;
          transition: all 800ms cubic-bezier(0.18, 0.06, 0.2, 1);
        }
        .morebtn:hover svg path{
          stroke-dashoffset: -300px;
        }


        .mc2{
          scroll-snap-align: start;
          background-image: url('./resources/bgim0.png');
          background-size: cover;
          background-position: center;
          position: relative;
          z-index: 4;
          display: flex; align-items: center;
          flex-direction: column;
          background-color: aliceblue;
          width: 100%;
          padding-top: 64px;
          min-height: calc(100vh - 352px);
          height: 100%;
          flex:1;
          /* max-height: 968px; */
        }
        .mc2dim{
          z-index: -1;
          position: absolute;
          top: 0;
          width:100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.7)
        }

        @media screen and (max-width :924px){
          .mcnt .subtt{
            font-size: 16px;
          }
        }

        @keyframes fade-in-mc2 {
          from{opacity: 0;}
          to{opacity: 1;}
        }
        @keyframes slide-up {
          from{transform: translateY(110%); opacity: 0;}
          to{transform: translateY(0px); opacity: 1;}
        }
    </style>
</head>
<body>
  <div class="header" > 
    <img src="resources/logo.svg" width="104"/>
    <a href="./about.html">회사소개</a>
    <a href="./test1.html">종합성능 시험평가</a>
    <a href="./test2.html">기술검증</a>
    <a href="./test1.html">연구개발</a>
    <a href="./test.html">고객지원</a>
    <div style="position: absolute; right: 8px; width: 60px; height: 60px; display: flex; flex-direction: column; gap: 3px; align-items: center; justify-content: center;">
      <div style="width: 27px; height: 1px; background-color: white;"></div>
      <div style="width: 27px; height: 1px; background-color: white;"></div>
      <div style="width: 27px; height: 1px; background-color: white;"></div>
    </div>
  </div>

  <div class="vct" >
    <div class="vdim"></div>
    <video src="resources/bgv1.mp4" muted autoplay loop></video>
  </div>
  <div class="ct c1">
    <div class="vct" >
      <div class="vdim"></div>
      <video src="resources/bgv.mp4" muted autoplay loop></video>
    </div>
    <div class="mcnt">
      <div class="animText">
        <img src="resources/logo.svg" width="248" />
      </div>
      <div class="animText" >
        <span style="animation-delay: 400ms; padding: 0 36px; text-align: center;">
          <b style="color: #8097FF;">주식회사 애나</b>는 공신력과 신뢰성을 바탕으로 하는 국제공인 시험평가 기관입니다.</span>
      </div>
      <div class="fadein" style="animation-delay: 800ms; display: flex; flex-direction: column; gap: 16px; margin-top: 8px;">
        <button class="btn-p0">종합성능 시험평가
          <svg width="33" height="10" viewBox="0 0 33 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 8.17037H29.5L21.6087 1" stroke="white" stroke-width="2"/>
          </svg>
        </button>
        <button class="btn-p0">AI 위험상황 인식예측 솔루션
          <svg width="33" height="10" viewBox="0 0 33 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 8.17037H29.5L21.6087 1" stroke="white" stroke-width="2"/>
          </svg>
        </button>
      </div>
    </div>
  </div>


  <div class="ct c2">
    <div class="mcnt">
      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #0B0D16; display: flex; justify-content: center;">
        <div style="background: radial-gradient(52.67% 42.82% at 50% 59.35%, #394272 36.42%, #0B0D16 99.99%); width: 100%; max-width: 1920px; height: 100%;"></div>
      </div>

      <div class="animText" style="z-index: 2;">
        <img src="resources/s2title.svg" width="304"/>
      </div>
      <div class="animText" style="z-index: 2; margin-bottom: 24px;">
        <span class="subtt" style="padding: 0 40px; animation-delay: 400ms; text-align: center;">
          국제 표준 규격에 기반하여 SW 기반 제품에 대한 공인 시험평가 및 기술 검증을 시행하고, 제품의 성능을 정량적으로 평가하여 SW 제품의 기술적 무결성 확인을 지원하는 국제 공인 시험평가 및 기술 검증 기관입니다.</span>
      </div>
        <div class="swiper fadein" style="animation-delay: 800ms;">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="resources/im0.png" class="slideimg" />
              <div><div><span># 종합 SW시험평가</span></div></div>
            </div>
            <div class="swiper-slide">
              <img src="resources/im1.png" class="slideimg" />
              <div><div><span># 메타버스 시험평가</span></div></div>
            </div>
            <div class="swiper-slide">
              <img src="resources/im2.png" class="slideimg" />
              <div><div><span># AI 시험평가</span></div></div>
            </div>
            <div class="swiper-slide">
              <img src="resources/im3.png" class="slideimg" />
              <div><div><span># 시험성적서 신청</span></div></div>
            </div>
            <div class="swiper-slide">
              <img src="resources/im4.png" class="slideimg" />
              <div><div><span># 블록체인 기술 검증</span></div></div>
            </div>
            <div class="swiper-slide">
              <img src="resources/im5.png" class="slideimg" />
              <div><div><span># 인공지능 기술 검증</span></div></div>
            </div>
          </div>

          <!-- <div class="swiper-button-prev">
            <svg width="13" height="22" style="margin-right:3px" viewBox="0 0 13 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.5718 0.832033L2.28613 10.832L11.5718 20.832" stroke="white" stroke-width="2"/>
            </svg>
          </div>
          <div class="swiper-button-next">
            <svg width="12" height="22" style="margin-left:2px" viewBox="0 0 12 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.28655 20.832L10.5723 10.832L1.28655 0.832031" stroke="white" stroke-width="2"/>
            </svg>
          </div> -->
          
          <div class="swiperdeco"></div>
          <div class="swiperdeco right"></div>
        </div>
        <div class="swiper-pagination fadein" style="animation-delay: 800ms;"></div>
    </div>
  </div>


  <div class="ct c3">
    <div class="mcnt" style="gap: 52px;">
      <div style="padding: 0 24px; gap: 6px; display: flex; flex-direction: column; position: relative; width: 100%;">
        <div class="animText">
          <span class="titlenum">01</span>
          <span class="title">종합성능 시험평가</span>
        </div>
        <div class="animText">
          <span class="subtt" style="animation-delay: 400ms;">
            주식회사 애나는 국제 표준에 따른 품질 경영시스템과 시험능력을 갖춘 국제공인 시험평가 기관입니다.
          </span>  
        </div>
      </div>
      <div style="padding: 0 24px; display: flex; width: 100%; justify-content: center;">
        <div class="fadein" style="animation-delay: 400ms; display: flex; flex-direction: column; width: 100%; max-width: 280px;">
          <img src="resources/dtim0.png" width="96px" style="align-self: center; margin-bottom: 14px;">
          <span class="conttitle">
            종합 SW 시험평가
          </span>
          <span class="content">
            종합 SW 시험평가는 SW 및 Data 관련
            전분야의 제품을KS X ISO/IFC
            25023:2016 표준에 의거한 소프트웨어
            품질시험으로 서비스로 제공하고 있습니다.
          </span>
          <a class="morebtn" href="./test.html">
            <span>더 알아보기</span>
            <svg width="120" height="9" viewBox="0 0 130 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 7.67403H128.5L120.609 0.503662" stroke="white"/>
            </svg>
          </a>
        </div>
        <div style="flex-grow: 1; max-width: 48px; min-width: 24px;"></div>
        <div class="fadein" style="animation-delay: 800ms; position: relative; top: 5px; display: flex; flex-direction: column; width: 100%; max-width: 280px;">
          <img src="resources/dtim1.png" width="80px" style="align-self: center; margin-bottom: 24px;">
          <span class="conttitle">
            메타버스 시험평가
          </span>
          <span class="content">
            2015년부터 메타버스 콘텐츠에 대한 성능
            시험평가를 위한 품질 측정 용건 및 방법을 업계 최초로 개발 및 적용한 메타버스 전문
            시험기관으로 메타버스 콘텐츠 및 관련
            SW전분야에 걸처 자체 개발한 어지럼증 분석 둘(MOSKIT)을 활용하여 제품의 품질을
            검증 및 측정 서비스를 제공하고 있습니다.
          </span>
          <a class="morebtn" href="./test1.html">
            <span>더 알아보기</span>
            <svg width="120" height="9" viewBox="0 0 130 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 7.67403H128.5L120.609 0.503662" stroke="white"/>
            </svg>
          </a>
        </div>
        <div style="flex-grow: 1; max-width: 48px; min-width: 24px;"></div>
        <div class="fadein" style="animation-delay: 1200ms; position: relative; top: 7px; display: flex; flex-direction: column; width: 100%; max-width: 280px;">
          <img src="resources/dtim2.png" width="78px" style="align-self: center; margin-bottom: 26px;">
          <span class="conttitle">AI 시험평가</span>
          <span class="content">
            인공지능 솔루션의 학습 데이터, 알고리즘
            등을 성능지표 및 ISO/IEC 25023의거한
            소프트웨어 품질 시험과 인공지능 학습 데이터를 ISO/IEC 25024 표준에 의거한
            Data품질시험을 통해 인공지능 제품 품질의
            완성도 평가하는 서비스를 제공하고 있습니다.
          </span>
          <a class="morebtn" href="./test2.html">
            <span>더 알아보기</span>
            <svg width="120" height="9" viewBox="0 0 130 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 7.67403H128.5L120.609 0.503662" stroke="white"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>


  <div class="ct c4">
    <div class="mcnt" style="gap: 40px;">
      <div style="padding: 0 24px; display: flex; flex-direction: column; position: relative; width: 100%;">
        <div class="animText">
          <span class="titlenum" >02</span>
          <span class="title" >기술검증</span>
        </div>
        <div class="animText">
          <span class="subtt" style="animation-delay: 400ms;">
            주식회사 애나는 기술기반의 제품 및 서비스에 대한 품질 강화를 목적으로 기술 검증에 대해 연구합니다.
            특히 인공지능(A), 블록체인(Blockchain)의 기술 품질 방법을 연구하고 개선점을 찾아 나아가도록 체계적으로 검증절차를 진행하고 있습니다.
          </span>  
        </div>
      </div>
      <div style="padding: 0 24px; display: flex; width: 100%; justify-content: center;">
        <div class="fadein" style="animation-delay: 400ms; display: flex; flex-direction: column; width: 100%; max-width: 280px;">
          <img src="resources/dtim3.png" height="104px" style="border-radius: 15px; align-self: center; margin-bottom: 24px;">
          <span class="conttitle">
            블록체인 보안 감사 (Audit)
          </span>
          <span class="content">
            블록체인(Block Chain)이란 데이터가 담긴 블록을
            일정 주기로 생성한 뒤 이전 블록에 체인과 같이
            연결하는 기술입니다. 블록체인은 변조하기 어려운
            형태이며 네트워크에 참여한 다수의 사용자가 정보를
            공유할 수 있습니다. 또한 다수의 사용자는 해당
            데이터를 분산•저장할 수 있습니다.
          </span>
          <a class="morebtn" href="./test.html">
            <span>더 알아보기</span>
            <svg width="120" height="9" viewBox="0 0 130 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 7.67403H128.5L120.609 0.503662" stroke="white"/>
            </svg>
          </a>
        </div>
        <div style="flex-grow: 1; max-width: 48px; min-width: 24px;"></div>
        <div class="fadein" style="animation-delay: 800ms; position: relative; top: 5px; display: flex; flex-direction: column; width: 100%; max-width: 280px;">
          <img src="resources/dtim4.png" height="104px" style="border-radius: 15px; align-self: center; margin-bottom: 24px;">
          <span class="conttitle">
            인공지능 기술검증
          </span>
          <span class="content">
            주식회사 애나의 인공지능 검증 서비스는 고객사가
            개발한 인공지능 모델 및 시스템에 대해 실제 뉴럴
            네트워크 기반의 인공지능 모델이 실제 솔루션에
            사용되고 있는지와, 인공지능 모델을 활용한 효과를
            객관적인 품질평가 시스템 및 모델을 활용하여
            국제표준을 기반으로 검증하는 서비스입니다.
          </span>
          <a class="morebtn" href="./test1.html">
            <span>더 알아보기</span>
            <svg width="120" height="9" viewBox="0 0 130 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 7.67403H128.5L120.609 0.503662" stroke="white"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>


  <div class="ct c5">
    <div class="mc2" style="justify-content: center;">
      <div class="mc2dim"></div>
      <div class="animText" style=" margin-bottom: 0px;">
        <span style="animation-delay: 600ms; font-family: Paperlogy-8ExtraBold; font-size: 16px; color: var(--point-color);">ANNA Inc.</span>
      </div>
      <div class="animText" style="height: 40px; margin-bottom: 12px;">
        <span style="animation-delay: 600ms; font-family: Paperlogy-8ExtraBold; line-height: 36px; font-size: 32px; color: white;">CONTACT US</span><br/>
      </div>

      <div class="fadein" style="animation-delay: 900ms; display: flex; flex-direction: column; gap: 24px; width: 100%; max-width: 640px; padding: 0px 24px;">
        <div id="mapWrapper" style="background-color: black; width: 100%; height: 353px; border-radius: 15px; overflow: hidden;">
          <!-- 지도를 표시할 div 입니다 -->
          <!-- <div id="map" style="width:100%;height:100%;"></div> -->
<!-- * 카카오맵 - 지도퍼가기 -->
<!-- 1. 지도 노드 -->
<div id="daumRoughmapContainer1687960018711" class="root_daum_roughmap root_daum_roughmap_landing" style="width:100%;height:100%;"> </div>
        </div>
        <div style="color: var(--gray-10); margin-left: 32px; display: flex; flex-direction: column; justify-content: center; gap: 16px;">
          <div style="display: flex; align-items: flex-start; gap: 23px;">
            <img src="resources/contact0.svg" width="18" style="margin: 0px 3px;">
            <span>070-7811-4803</span>
          </div>
          <div style="display: flex; align-items: flex-start; gap: 23px;">
            <img src="resources/contact1.svg" width="25" style="margin-top: 5px;">
            <span>shlee@byanna.io</span>
          </div>
          <div style="display: flex; align-items: flex-start; gap: 23px;">
            <img src="resources/contact2.svg" width="24" style="margin-top: 6px;">
            <span>인천광역시 연수구 컨벤시아대로 204<br/>
              인천스타트업파크, 516호
            </span>
          </div>
        </div>
      </div>
      <div style="flex: 1; width: 1px; max-height: 60px;"></div>
    </div>

    <div class="footer">
        <div class="upbtn" style="margin-top: 32px;" onclick="goToSec(1)">
          <svg width="12" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.70711 0.721326C8.31658 0.330801 7.68342 0.330801 7.29289 0.721326L0.928932 7.08529C0.538408 7.47581 0.538408 8.10898 0.928932 8.4995C1.31946 8.89002 1.95262 8.89002 2.34315 8.4995L8 2.84265L13.6569 8.4995C14.0474 8.89002 14.6805 8.89002 15.0711 8.4995C15.4616 8.10898 15.4616 7.47581 15.0711 7.08529L8.70711 0.721326ZM9 18.5713L9 1.42843L7 1.42843L7 18.5713L9 18.5713Z" fill="white"/>
          </svg>          
        </div>
        <img src="resources/logo.svg" width="120" style="user-select: none; -webkit-user-drag: none; margin-top: 32px;"/>
        <p style="color: var(--gray-10); text-align: center; line-height: 144%; margin: 24px 0px 22px 0px;">
          상호 : 주식회사 애나<br/>
          대표 : 김민종<br/>
          주소 : 인천광역시 연수구 컨벤시아대로 204,<br/>
          인천스타트업파크 405호<br/>
          TEL : 070-7811-4803<br/>
          e-mail : minjong.kim@byanna.io
        </p>
        <p style="color: var(--gray-40); user-select: none;">Copyright &copy; ANNA Inc. All rights reserved.</p>
    </div>
  </div>


    <script>
// sessionStorage에서 section 값을 가져오고 없으면 1로 설정
let section = parseInt(sessionStorage.getItem("section")) || 1;
const minSection = 1;
// const maxSection = 5+ 1;//footer
const maxSection = 5

// throttle 함수 (600ms 동안 이벤트 중복 실행 방지)
function throttle(func, delay) {
  let lastCall = 0;
  return function (...args) {
    const now = new Date().getTime();
    if (now - lastCall < delay) return;
    lastCall = now;
    func(...args);
  };
}

// 현재 스크롤이 `ct`의 시작 부분인지 확인하는 함수
function isAtCtStart() {
  // console.log(window.scrollY)
  // console.log(window.scrollY === 0)
  return window.scrollY < 10;
}

// 현재 스크롤이 `ct`의 끝 부분인지 확인하는 함수
function isAtCtEnd() {
  return window.scrollY + window.innerHeight >= document.body.scrollHeight - 10;
}

// 섹션 변경 함수
function changeSection(direction) {
  if (direction === "down" && section < maxSection) {
    section++;
    window.scroll(0,0)
  } else if (direction === "up" && section > minSection) {
    section--;
  }
  sessionStorage.setItem("section", section);
  // console.log("현재 섹션:", section);
  updateSectionDisplay()
}

// 마우스 휠 이벤트 핸들러
const handleWheel = throttle((event) => {
  if (event.deltaY > 5 && isAtCtEnd()) {
    changeSection("down");
  } else if (event.deltaY < -5 && isAtCtStart()) {
    changeSection("up");
  }
}, 600);

// 터치 이벤트 핸들러 (모바일 대응)
let startY = 0;
let isTouching = false;
const touchThres = 7;

const handleTouchStart = (event) => {
  // console.log(event.target, event)
  startY = event.touches[0].clientY;
  isTouching = true;
};

const handleTouchMove = throttle((event) => {
  if (!isTouching) return;
  
  const moveY = event.touches[0].clientY;
  const diff = startY - moveY;
  
  if (diff > touchThres && isAtCtEnd()) {
    changeSection("down"); // 아래로 스와이프
    isTouching = false; // 한 번 실행 후 중복 방지
  } else if (diff < -touchThres && isAtCtStart()) {
    changeSection("up"); // 위로 스와이프
    isTouching = false; // 한 번 실행 후 중복 방지
  }
}, 600);

const handleTouchEnd = () => {
  isTouching = false; // 터치 종료 시 리셋
};

// 이벤트 리스너 등록
window.addEventListener("wheel", handleWheel);
window.addEventListener("touchstart", handleTouchStart);
window.addEventListener("touchmove", handleTouchMove);
window.addEventListener("touchend", handleTouchEnd);

function updateSectionDisplay() {
  // console.log('section??',section)
  // if(section < maxSection){
    // 모든 .ct 요소에서 show 제거
    document.querySelectorAll(".ct").forEach(el => el.classList.remove("show"));
  
    // 현재 section에 해당하는 요소에 show 추가
    let activeCt = document.querySelector(`.ct.c${section}`);
    if (activeCt) {
      activeCt.classList.add("show");
    }
    document.querySelector(".footer").classList.remove("show")
  // }else{ //footer
  //   document.querySelector(`.ct.c5`).classList.add("show");
  //   document.querySelector(".footer").classList.add("show")
  // }
}
function goToSec(n){
  section = n;
  updateSectionDisplay();
}
window.addEventListener("scroll", function () {
      const header = document.querySelector(".header");
      if (window.scrollY > 12) {
        header.style.backgroundColor = "#0f0f0f";
      } else {
        header.style.backgroundColor = "transparent";
      }
    });



// 특정 요소가 display: block;이 되면 Swiper 업데이트
const observec2 = new MutationObserver(() => {
  // console.log(window.getComputedStyle(document.querySelector('.ct.c2')).display!== 'none')
  if (window.getComputedStyle(document.querySelector('.ct.c2')).display !== 'none') {
    // console.log('update')
    swiper.update();
    // swiper.slideToLoop(5, 10); // loop 다시 정상 동작하도록 첫 번째 슬라이드로 이동
    setTimeout(() => {
      swiper.slideToLoop(0, 10); // loop 다시 정상 동작하도록 첫 번째 슬라이드로 이동
    }, 80);
  }
});
observec2.observe(document.querySelector('.ct.c2'), { attributes: true, attributeFilter: ['class'] });

const observec5 = new MutationObserver(() => {
  // console.log(window.getComputedStyle(document.querySelector('.ct.c5')).display!== 'none')
  if (window.getComputedStyle(document.querySelector('.ct.c5')).display !== 'none') {
// console.log('c5 show')

new daum.roughmap.Lander({
		"timestamp" : "1687960018711",
		"key" : "2fcmr",
		"mapWidth" : "100%",
		"mapHeight" : "400"
	}).render();
  }
});
observec5.observe(document.querySelector('.ct.c5'), { attributes: true, attributeFilter: ['class'] });

//지도 움직일때 section변경 막기
const mapWrapperEl = document.querySelector("#mapWrapper")
mapWrapperEl.addEventListener("touchstart", (e)=>{
  // console.log('stop');
  e.stopPropagation()
});


        const swiper = new Swiper('.swiper', {
          // Optional parameters
          direction: 'horizontal',


          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          },

          // speed: 1200, // animation duration
          spaceBetween:30, // gap
          slidesPerView:4,
          autoplay:{delay:1400},
          // autoplay:false,
          centeredSlides: true, // 가운데 정렬
          loop:true,
          initialSlide: 3, // 세번째 슬라이드에서 시작

        });


//모바일 0~768 , 태블릿 768~1200, 데스크톱 1200~
const mediaMobile = window.matchMedia("(max-width: 768px)");
// const mediaTablet = window.matchMedia("(min-width: 769px) and (max-width: 1200px)");
const mediaDesktop = window.matchMedia("(min-width: 1201px)");
// const mediaLandscape = window.matchMedia("(orientation: landscape)");

function handleDeviceChange() {
  if (mediaMobile.matches) {
    window.location.href = "./index_mobile.html";
  } else if (mediaDesktop.matches) {
    window.location.href = "./index.html";
  }
}
// function checkOrientation(e) {
//   if (e.matches) {
//     // Landscape 모드일 경우 index_landscape.html로 이동
//     window.location.href = "./index_landscape.html";
//   }
// }

// 초기 실행 (페이지 로드 시)
handleDeviceChange();
// 초기 체크
// checkOrientation(mediaLandscape);

// 화면 크기 변경 시 감지
mediaMobile.addEventListener("change", handleDeviceChange);
mediaDesktop.addEventListener("change", handleDeviceChange);
// 화면 방향 변경 감지
// mediaLandscape.addEventListener("change", checkOrientation);



// 초기 실행
updateSectionDisplay();
    </script>

</body>
</html>
